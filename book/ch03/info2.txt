3.2. 스코프와 클로저

1.블록 스코프와 함수 스코프
스코프 : 범위
var은 함수 스코프, let은 블록 스코프입니다.
함수스코프는 함수 안에서만 사용이 가능합니다.
블럭스코프는 {}내에 선언될 경우, {}를 벗어나면 사용할 수 없습니다.

if(true){
    var a= 1;
    let b = 2;
}
console.log(a)--> 1출력
console.log(b)--> 오류 발생

function func1(){
    var a= 1;
    let b = 2;
}
console.log(a)--> 오류 발생
console.log(b)--> 오류 발생

function func1(){
    var a= 1;
    let b = 2;

    console.log(b) --> 2출력
}


2.클로저
클로저: 외부 값에 접근하는 함수

ex)
const a = 1;
const func = ()=>{
    console.log(a)
}
func();
func()함수는 자신의 외부에 있는 변수 a1를 사용하고 있습니다.
func()함수는 클로저 입니다.


const func2 = ()=>{
    console.log(a)
}

if(true){
    const a = 1;
    func2();
}
-->a is undefined오류가 발생한다
변수 a는 if 문 안에서 선언되었고, func()함수는 if문 바깥에서 선언되었습니다.
const는 블럭 스코프이므로 if 문 바깥에서는 변수 a에 접근할 수 없습니다.
func()함수도 if문 바깥에 있으므로 변수 a에 접근할 수 없습니다.

이처럼 함수가 선언된 위치에 따라 접근할 수 있는 값이 달라지는 현상을 함수는 정적 스코프를 따른다라고 표현합니다.
선언된 위치가 아니라 호출된 위치에 따라 접근할 수 있는 값이 달라진다면 동적 스코프를 따르게 되는데, 자바스크립트는 정적스코프를 따릅니다.